/*! elfer_dev_lib 2014-11-17 */
define(function(){window.popBox=function(){var a='<div id="J_p_pop" class="p_pop">                <div class="pp_wrapper">                  <div class="pp_box">                    <div class="pp_quora"></div>                    <div class="pp_nav"></div>                  </div>                </div>              </div>',b='<span class="text" style="<%=color%>"><i class="<%=type%>"></i><%=text%></span>',c='<a href="javascript:void(0);" style="<%=color%>" class="pp_btn" data-seq="<%=i%>" data-type="<%=type%>"><%=text%></a>',d=_quora=_nav=null,e={type:"error",text:"错误咯！"},f=[],g=function(){document.addEventListener("touchstart",function(){},!1),d.addEventListener("click",function(a){var b=a.target,c=b.className;if("pp_btn"==c){var d=b.dataset.seq;"undefined"!=typeof d&&f[d](),l()}},!1)},h=function(a){var c=b;c=c.replace(/<%=type%>/,a.type).replace(/<%=style%>/,"color:#"+a.style).replace(/<%=text%>/,a.text),a.tip&&(c+='<p class="tip">'+a.tip+"</p>"),_quora.innerHTML=c},i=function(a){a=a.slice(0,3);for(var b="",d=0,e=a.length;e>d;d++){var g=a[d];b+=c.replace(/<%=i%>/,d).replace(/<%=type%>/,g.type).replace(/<%=style%>/,"color:#"+g.style).replace(/<%=text%>/,g.text),_nav.innerHTML=b,"btn"==g.type?(g.cb||(g.cb=function(){}),f.push(function(a){return function(b){a(b)}}(g.cb))):"link"==g.type?(g.href||(g.href=""),f.push(function(a){return function(){location.href=a}}(g.href))):f.push(function(){l()})}},j=function(a){h(a.quora),i(a.nav),a.nav.length?d.classList.remove("pp_tip"):d.classList.add("pp_tip")},k=function(a){a=a||{};var b={quora:a.quora||e,nav:a.nav||[]};j(b),d.classList.add("show")},l=function(){f=[],d.classList.remove("show")},m=function(){document.body.insertAdjacentHTML("beforeend",a),d=document.getElementById("J_p_pop"),_quora=d.querySelector(".pp_quora"),_nav=d.querySelector(".pp_nav"),g()};return m(),{show:k,hide:l}}()});