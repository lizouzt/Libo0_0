/*! elfer_dev_lib 2014-10-27 */
var Drag=function(){function a(a){this.el="string"==typeof a.el?d(a.el):a.el,this.range=a.range||null,this.onstart=a.start||new Function,this.onmove=a.move||new Function,this.onend=a.end||new Function,this.action=!1,this.init()}var b="ontouchstart"in document,c=b?{StartEvent:"ontouchstart",MoveEvent:"ontouchmove",EndEvent:"ontouchend"}:{StartEvent:"onmousedown",MoveEvent:"onmousemove",EndEvent:"onmouseup"},d=function(a){return document.getElementById(a)},e=function(a){a?a.preventDefault():window.event.returnValue=!1},f=function(a){var c=y=0;if(b){var d=a.touches.item(0);c=d.pageX,y=d.pageY}else c=a.clientX,y=a.clientY;return{x:c,y:y}};return a.prototype={init:function(){this.el[c.StartEvent]=function(a){if(e(a),this.action)return!1;this.action=!0,this.startPoint=f(a);var b=this.el.offsetLeft,d=this.el.offsetTop;this.onstart(),document[c.MoveEvent]=function(a){e(a),this.nowPoint=f(a);var c=this.nowPoint.x-this.startPoint.x+b,g=this.nowPoint.y-this.startPoint.y+d;(!this.range||c>=this.range.x1&&c<=this.range.x2)&&(this.el.style.left=c+"px"),(!this.range||g>=this.range.y1&&g<=this.range.y2)&&(this.el.style.top=g+"px"),this.onmove()}.bind(this),document[c.EndEvent]=document.ontouchcancel=function(){document[c.EndEvent]=document.ontouchcancel=document[c.MoveEvent]=null,this.action=!1,this.onend()}.bind(this)}.bind(this)},bind:function(a,b){return function(){a.apply(b,arguments)}}},function(b){return new a(b)}}();